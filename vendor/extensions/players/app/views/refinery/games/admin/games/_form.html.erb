<%= form_for [refinery, :games_admin, @game] do |f| -%>
  <%= render '/refinery/admin/error_messages',
              :object => @game,
              :include_object_name => true %>

  <div class='field'>
    <%= f.label :season -%>
    <%= f.select "season_id", Refinery::Seasons::Season.all.collect {|s| [s.name, s.id]}, :prompt => "Select Season"  -%>
  </div>

  <div class='field'>
    <%= f.label :date -%>
    <%= f.datetime_select :date  -%>
  </div>

  <div class='field'>
    <%= f.label :opponent -%>
    <%= f.text_field :opponent  -%>
  </div>

  <% Refinery::Players::Player.all.each_with_index do |player, i| %>
    <%= render :partial => 'player_selection', :locals => {player: player, i: i, f: f} %>
  <% end %>

  <%= render '/refinery/admin/form_actions', :f => f,
             :continue_editing => false,
             :delete_title => t('delete', :scope => 'refinery.games.admin.games.game'),
             :delete_confirmation => t('message', :scope => 'refinery.admin.delete', :title => @game.opponent) %>
<% end -%>
